function simple_ac_do(){if(tb.value.charAt(tb.value.length-1)==","){tbshow.innerHTML="";return}var e=tb.value.Trim();if(e.length==0)tbshow.innerHTML="";else{var t;if(e.indexOf(",")==-1)t=e;else{var n=e.split(","),r=n.length-1;t=n[r]}var i=new RegExp("^"+t,"i"),s="",o;for(var u=0;u<custom_array.length;u++)o=custom_array[u],o.search(i)!=-1&&(s+="<a class='taga sepmr2' href='javascript: simple_ac_insert(\""+tb.id+'", "'+o+'", "'+tbshow.id+"\")'>"+o.replace(i,"<b>"+i.source.substr(1)+"</b>"),0/0);tbshow.innerHTML=s}}function simple_ac_insert(e,t,n){tb=document.getElementById(e),tbvs=tb.value.Trim();var r;if(tbvs.indexOf(",")==-1)r=t;else{var i=tbvs.split(","),s=i.length-1;i[s]=t,r=i.join(",")}tb.value=r,tb.value+=",",document.getElementById(n).innerHTML="",tb.focus()}function simple_ac_init(e,t){tb=document.getElementById(e),tbshow=document.getElementById(t),addEvent(document,"keyup",simple_ac_do)}function addEvent(e,t,n){e.addEventListener&&!window.opera?e.addEventListener(t,n,!1):e["on"+t]=n}var tb,tbshow;String.prototype.Trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},String.prototype.LTrim=function(){return this.replace(/(^\s*)/g,"")},String.prototype.Rtrim=function(){return this.replace(/(\s*$)/g,"")}